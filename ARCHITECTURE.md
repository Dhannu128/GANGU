# GANGU Architecture Diagram

## Full System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER (Elderly)                          â”‚
â”‚                    Hindi/Hinglish Input                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GANGU ORCHESTRATION                          â”‚
â”‚                    (LangGraph Pipeline)                         â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [1] INTENT EXTRACTION AGENT                             â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚  â”‚
â”‚  â”‚  Input:  "White chane khatam ho gaye"                    â”‚  â”‚
â”‚  â”‚  Output: {intent: "buy_grocery", item: "white chickpeas", â”‚  â”‚
â”‚  â”‚          quantity: "1 kg", urgency: "normal"}            â”‚  â”‚
â”‚  â”‚  Model:  Gemini 2.5 Flash (temp 0.1)                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [2] TASK PLANNER AGENT                                  â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚  â”‚
â”‚  â”‚  Input:  Intent data from [1]                            â”‚  â”‚
â”‚  â”‚  Output: {steps: [search, compare, decide, purchase]}    â”‚  â”‚
â”‚  â”‚  Model:  Gemini 2.5 Flash (temp 0.3)                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [3] SEARCH AGENT                                        â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚  â”‚
â”‚  â”‚  Input:  Task plan from [2]                              â”‚  â”‚
â”‚  â”‚  Output: Raw products from Zepto + Amazon               â”‚  â”‚
â”‚  â”‚  Logic:  Parallel MCP calls                              â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚  â”‚
â”‚  â”‚  â”‚ Zepto MCP   â”‚     â”‚ Amazon MCP  â”‚                    â”‚  â”‚
â”‚  â”‚  â”‚ (Firefox)   â”‚     â”‚ (Apify API) â”‚                    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚  â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚  â”‚
â”‚  â”‚                 â†“                                         â”‚  â”‚
â”‚  â”‚         6 products found                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [4] COMPARISON AGENT                                    â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚  â”‚
â”‚  â”‚  Input:  6 products from [3]                             â”‚  â”‚
â”‚  â”‚  Output: Ranked list with scores                         â”‚  â”‚
â”‚  â”‚  Model:  Gemini 2.5 Flash (temp 0.1)                    â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  Process:                                                 â”‚  â”‚
â”‚  â”‚  1. Normalize (price/kg, delivery hours)                 â”‚  â”‚
â”‚  â”‚  2. Score (price 40%, speed 25%, quality 15%)            â”‚  â”‚
â”‚  â”‚  3. Rank (best to worst)                                 â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  Result:                                                  â”‚  â”‚
â”‚  â”‚  #1 BigBasket: 89.5/100 (â‚¹95/kg, 2 days)                â”‚  â”‚
â”‚  â”‚  #2 Amazon:    88.2/100 (â‚¹110/kg, 1-2 days)            â”‚  â”‚
â”‚  â”‚  #3 Zepto:     83.8/100 (â‚¹120/kg, 10 hrs)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [5] DECISION AGENT                                      â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                â”‚  â”‚
â”‚  â”‚  Input:  Ranked products from [4]                        â”‚  â”‚
â”‚  â”‚  Output: Final decision with reasoning                   â”‚  â”‚
â”‚  â”‚  Model:  Gemini 2.5 Flash (temp 0.2)                    â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  Process:                                                 â”‚  â”‚
â”‚  â”‚  1. Check 6 decision policies                            â”‚  â”‚
â”‚  â”‚  2. Assess risk (low/medium/high)                        â”‚  â”‚
â”‚  â”‚  3. Resolve tradeoffs (price vs speed)                   â”‚  â”‚
â”‚  â”‚  4. Plan fallback (backup options)                       â”‚  â”‚
â”‚  â”‚  5. Make decision (auto_buy/confirm/clarify)             â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  Decision Policies:                                       â”‚  â”‚
â”‚  â”‚  âœ“ Policy 1: Never out-of-stock                         â”‚  â”‚
â”‚  â”‚  âœ“ Policy 2: Confidence threshold (>60)                 â”‚  â”‚
â”‚  â”‚  âœ“ Policy 3: Score gap (>5 points)                      â”‚  â”‚
â”‚  â”‚  âœ“ Policy 4: Tradeoff resolution                        â”‚  â”‚
â”‚  â”‚  âœ“ Policy 5: Risk assessment                            â”‚  â”‚
â”‚  â”‚  âœ“ Policy 6: Elderly protection                         â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  Result: auto_buy @ BigBasket                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [6] PURCHASE AGENT (Simulated)                          â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚  â”‚
â”‚  â”‚  Input:  Decision from [5]                               â”‚  â”‚
â”‚  â”‚  Output: Order ID                                        â”‚  â”‚
â”‚  â”‚  Logic:  Simulates order placement                       â”‚  â”‚
â”‚  â”‚         (Ready for real MCP purchase integration)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [7] NOTIFICATION AGENT                                  â”‚  â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚  â”‚
â”‚  â”‚  Input:  Decision + Order ID from [5,6]                  â”‚  â”‚
â”‚  â”‚  Output: User-friendly message (Hindi/Hinglish)          â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  Message Template:                                        â”‚  â”‚
â”‚  â”‚  "BigBasket par sabse sasta mila hai - â‚¹95 per kg.      â”‚  â”‚
â”‚  â”‚   2 din mein aa jayega."                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER (Elderly)                          â”‚
â”‚                 âœ… Order Successful! Details...                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## LangSmith Tracing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LANGSMITH OBSERVABILITY                     â”‚
â”‚                                                                â”‚
â”‚  Every agent execution is traced:                             â”‚
â”‚                                                                â”‚
â”‚  gangu_graph (Parent Trace)                                   â”‚
â”‚  â”œâ”€â”€ [1] intent_extraction    â±ï¸  570ms  ðŸ”¢ 482 tokens       â”‚
â”‚  â”œâ”€â”€ [2] task_planner          â±ï¸  420ms  ðŸ”¢ 315 tokens       â”‚
â”‚  â”œâ”€â”€ [3] search                â±ï¸ 1200ms  ðŸ”¢ 0 tokens         â”‚
â”‚  â”œâ”€â”€ [4] comparison            â±ï¸  680ms  ðŸ”¢ 890 tokens       â”‚
â”‚  â”œâ”€â”€ [5] decision              â±ï¸  450ms  ðŸ”¢ 1250 tokens      â”‚
â”‚  â”œâ”€â”€ [6] purchase              â±ï¸   50ms  ðŸ”¢ 0 tokens         â”‚
â”‚  â””â”€â”€ [7] notification          â±ï¸   30ms  ðŸ”¢ 0 tokens         â”‚
â”‚                                                                â”‚
â”‚  Total: 3.4s, 2937 tokens                                     â”‚
â”‚                                                                â”‚
â”‚  View at: https://smith.langchain.com â†’ GANGU project         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## MongoDB State Persistence

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MONGODB CHECKPOINTING                       â”‚
â”‚                                                                â”‚
â”‚  State saved at each step:                                    â”‚
â”‚                                                                â”‚
â”‚  user_001_checkpoint_001: {user_input, intent_data}           â”‚
â”‚  user_001_checkpoint_002: {+ task_plan}                       â”‚
â”‚  user_001_checkpoint_003: {+ search_results}                  â”‚
â”‚  user_001_checkpoint_004: {+ comparison_results}              â”‚
â”‚  user_001_checkpoint_005: {+ decision_results}                â”‚
â”‚  user_001_checkpoint_006: {+ order_id}                        â”‚
â”‚  user_001_checkpoint_007: {+ ai_response}                     â”‚
â”‚                                                                â”‚
â”‚  Allows:                                                       â”‚
â”‚  - Resume on failure                                           â”‚
â”‚  - Replay conversations                                        â”‚
â”‚  - Audit trail                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Example

```
Input: "White chane khatam ho gaye"
   â†“
Intent: {intent: "buy_grocery", item: "white chickpeas", quantity: "1kg", urgency: "normal"}
   â†“
Plan: {steps: [search_zepto, search_amazon, compare, decide, purchase]}
   â†“
Search: [Zepto: â‚¹120, Amazon: â‚¹110, BigBasket: â‚¹95, ...]
   â†“
Compare: [#1 BigBasket 89.5/100, #2 Amazon 88.2/100, #3 Zepto 83.8/100]
   â†“
Decide: {decision: "auto_buy", platform: "BigBasket", price: â‚¹95, confidence: "very_high", risk: "low"}
   â†“
Purchase: {order_id: "ORD20260114120000", status: "confirmed"}
   â†“
Notify: "âœ… Order Successful! BigBasket par sabse sasta mila hai - â‚¹95 per kg..."
   â†“
Output to User
```

## Decision Agent Detail

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 DECISION AGENT INTERNALS                       â”‚
â”‚                                                                â”‚
â”‚  Inputs:                                                       â”‚
â”‚  â”œâ”€â”€ Ranked products from Comparison Agent                    â”‚
â”‚  â”œâ”€â”€ User intent (urgency level)                              â”‚
â”‚  â””â”€â”€ Platform metadata                                         â”‚
â”‚                                                                â”‚
â”‚  Processing:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 1. Policy Check                                          â”‚ â”‚
â”‚  â”‚    âœ“ In stock? (Policy 1)                                â”‚ â”‚
â”‚  â”‚    âœ“ Score > 60? (Policy 2)                              â”‚ â”‚
â”‚  â”‚    âœ“ Gap > 5? (Policy 3)                                 â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ 2. Risk Assessment                                       â”‚ â”‚
â”‚  â”‚    Rating: 4.2â˜… â†’ 2 points                               â”‚ â”‚
â”‚  â”‚    Reviews: 5100 â†’ 0 points                              â”‚ â”‚
â”‚  â”‚    Stock: in_stock â†’ 0 points                            â”‚ â”‚
â”‚  â”‚    Price: normal â†’ 0 points                              â”‚ â”‚
â”‚  â”‚    Platform: trusted â†’ 0 points                          â”‚ â”‚
â”‚  â”‚    Total: 2 points â†’ LOW RISK âœ“                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ 3. Tradeoff Resolution                                   â”‚ â”‚
â”‚  â”‚    Urgency: normal                                       â”‚ â”‚
â”‚  â”‚    â†’ Prioritize: Price > Speed                           â”‚ â”‚
â”‚  â”‚    BigBasket: â‚¹95, 2 days                                â”‚ â”‚
â”‚  â”‚    Zepto: â‚¹120, 10 hours                                 â”‚ â”‚
â”‚  â”‚    Decision: Choose BigBasket (saves â‚¹25)               â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ 4. Fallback Planning                                     â”‚ â”‚
â”‚  â”‚    Primary: BigBasket                                    â”‚ â”‚
â”‚  â”‚    Secondary: Amazon (â‚¹110, 1-2 days)                  â”‚ â”‚
â”‚  â”‚    Tertiary: Zepto (â‚¹120, 10h)                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  Output:                                                       â”‚
â”‚  â”œâ”€â”€ Decision: auto_buy                                       â”‚
â”‚  â”œâ”€â”€ Confidence: very_high                                    â”‚
â”‚  â”œâ”€â”€ Risk: low                                                â”‚
â”‚  â”œâ”€â”€ Selected: BigBasket @ â‚¹95                                â”‚
â”‚  â””â”€â”€ Reasoning: "Best price, good availability, normal urgency"â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## System Flow Summary

```
USER INPUT (Hindi/Hinglish)
    â†“
[ORCHESTRATION: LangGraph Pipeline]
    â†“
[AGENT 1: Intent] â†’ Extract meaning
    â†“
[AGENT 2: Planner] â†’ Create strategy
    â†“
[AGENT 3: Search] â†’ Get real data (MCP)
    â†“
[AGENT 4: Compare] â†’ Score & rank
    â†“
[AGENT 5: Decide] â†’ Apply policies
    â†“
[AGENT 6: Purchase] â†’ Execute order
    â†“
[AGENT 7: Notify] â†’ User message
    â†“
USER OUTPUT (Hindi/Hinglish + Order Details)

[OBSERVABILITY: LangSmith Traces All Steps]
[PERSISTENCE: MongoDB Saves All State]
```

---

**This is the complete GANGU architecture!** ðŸŽ¯
